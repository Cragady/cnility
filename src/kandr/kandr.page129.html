<div id="pf81" class="pf w0 h0" data-page-no="81"><div class="pc pc81 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg81.png"/><div class="t m0 x3 h7 y49 ff2 fs5 fc0 sc0 ls0 ws0"><span class="_ _67"> </span><span class="_ _10"> </span><span class="_ _4"></span><span class="_ _b8"> </span><span class="ff5">117</span></div><div class="t m0 x1d h11 y4a ff6 fsa fc0 sc0 ls0 ws0">find<span class="_"> </span>-nx<span class="_"> </span>pattern</div><div class="t m0 x3 h3 ydfc ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _4"></span></div><div class="t m0 x22 h11 ydfd ff6 fsa fc0 sc0 ls0 ws0">#include<span class="_"> </span>&lt;stdio.h&gt;</div><div class="t m0 x22 h11 ydfe ff6 fsa fc0 sc0 ls0 ws0">#include<span class="_"> </span>&lt;string.h&gt;</div><div class="t m0 x22 h11 ydff ff6 fsa fc0 sc0 ls0 ws0">#define<span class="_"> </span>MAXLINE<span class="_"> </span>1000</div><div class="t m0 x22 h11 ye00 ff6 fsa fc0 sc0 ls0 ws0">int<span class="_"> </span>getline(char<span class="_"> </span>*line,<span class="_"> </span>int<span class="_"> </span>max);</div><div class="t m0 x22 h11 ye01 ff6 fsa fc0 sc0 ls0 ws0">/*<span class="_"> </span>find:<span class="_ _1a"> </span>print<span class="_"> </span>lines<span class="_"> </span>that<span class="_"> </span>match<span class="_"> </span>pattern<span class="_"> </span>from<span class="_"> </span>1st<span class="_"> </span>arg<span class="_"> </span>*/</div><div class="t m0 x22 h11 ye02 ff6 fsa fc0 sc0 ls0 ws0">main(int<span class="_"> </span>argc,<span class="_"> </span>char<span class="_"> </span>*argv[])</div><div class="t m0 x22 h11 ye03 ff6 fsa fc0 sc0 ls0 ws0">{</div><div class="t m0 x2c h11 ye04 ff6 fsa fc0 sc0 ls0 ws0">char<span class="_"> </span>line[MAXLINE];</div><div class="t m0 x2c h11 ye05 ff6 fsa fc0 sc0 ls0 ws0">long<span class="_"> </span>lineno<span class="_"> </span>=<span class="_"> </span>0;</div><div class="t m0 x2c h11 ye06 ff6 fsa fc0 sc0 ls0 ws0">int<span class="_"> </span>c,<span class="_"> </span>except<span class="_"> </span>=<span class="_"> </span>0,<span class="_"> </span>number<span class="_"> </span>=<span class="_"> </span>0,<span class="_"> </span>found<span class="_"> </span>=<span class="_"> </span>0;</div><div class="t m0 x2c h11 ye07 ff6 fsa fc0 sc0 ls0 ws0">while<span class="_"> </span>(--argc<span class="_"> </span>&gt;<span class="_"> </span>0<span class="_"> </span>&amp;&amp;<span class="_"> </span>(*++argv)[0]<span class="_"> </span>==<span class="_"> </span>&apos;-&apos;)</div><div class="t m0 x3b h11 ye08 ff6 fsa fc0 sc0 ls0 ws0">while<span class="_"> </span>(c<span class="_"> </span>=<span class="_"> </span>*++argv[0])</div><div class="t m0 x3c h11 ye09 ff6 fsa fc0 sc0 ls0 ws0">switch<span class="_"> </span>(c)<span class="_"> </span>{</div><div class="t m0 x11 h11 ye0a ff6 fsa fc0 sc0 ls0 ws0">case<span class="_"> </span>&apos;x&apos;:</div><div class="t m0 x42 h11 ye0b ff6 fsa fc0 sc0 ls0 ws0">except<span class="_"> </span>=<span class="_"> </span>1;</div><div class="t m0 x42 h11 ye0c ff6 fsa fc0 sc0 ls0 ws0">break;</div><div class="t m0 x11 h11 ye0d ff6 fsa fc0 sc0 ls0 ws0">case<span class="_"> </span>&apos;n&apos;:</div><div class="t m0 x42 h11 ye0e ff6 fsa fc0 sc0 ls0 ws0">number<span class="_"> </span>=<span class="_"> </span>1;</div><div class="t m0 x42 h11 ye0f ff6 fsa fc0 sc0 ls0 ws0">break;</div><div class="t m0 x11 h11 ye10 ff6 fsa fc0 sc0 ls0 ws0">default:</div><div class="t m0 x42 h11 ye11 ff6 fsa fc0 sc0 ls0 ws0">printf(&quot;find:<span class="_"> </span>illegal<span class="_"> </span>option<span class="_"> </span>%c\n&quot;,<span class="_"> </span>c);</div><div class="t m0 x42 h11 ye12 ff6 fsa fc0 sc0 ls0 ws0">argc<span class="_"> </span>=<span class="_"> </span>0;</div><div class="t m0 x42 h11 ye13 ff6 fsa fc0 sc0 ls0 ws0">found<span class="_"> </span>=<span class="_"> </span>-1;</div><div class="t m0 x42 h11 ye14 ff6 fsa fc0 sc0 ls0 ws0">break;</div><div class="t m0 x3c h11 ye15 ff6 fsa fc0 sc0 ls0 ws0">}</div><div class="t m0 x2c h11 ye16 ff6 fsa fc0 sc0 ls0 ws0">if<span class="_"> </span>(argc<span class="_"> </span>!=<span class="_"> </span>1)</div><div class="t m0 x3b h11 ye17 ff6 fsa fc0 sc0 ls0 ws0">printf(&quot;Usage:<span class="_"> </span>find<span class="_"> </span>-x<span class="_"> </span>-n<span class="_"> </span>pattern\n&quot;);</div><div class="t m0 x2c h11 ye18 ff6 fsa fc0 sc0 ls0 ws0">else</div><div class="t m0 x3b h11 ye19 ff6 fsa fc0 sc0 ls0 ws0">while<span class="_"> </span>(getline(line,<span class="_"> </span>MAXLINE)<span class="_"> </span>&gt;<span class="_"> </span>0)<span class="_"> </span>{</div><div class="t m0 x3c h11 ye1a ff6 fsa fc0 sc0 ls0 ws0">lineno++;</div><div class="t m0 x3c h11 ye1b ff6 fsa fc0 sc0 ls0 ws0">if<span class="_"> </span>((strstr(line,<span class="_"> </span>*argv)<span class="_"> </span>!=<span class="_"> </span>NULL)<span class="_"> </span>!=<span class="_"> </span>except)<span class="_"> </span>{</div><div class="t m0 x11 h11 ye1c ff6 fsa fc0 sc0 ls0 ws0">if<span class="_"> </span>(number)</div><div class="t m0 x42 h11 ye1d ff6 fsa fc0 sc0 ls0 ws0">printf(&quot;%ld:&quot;,<span class="_"> </span>lineno);</div><div class="t m0 x11 h11 ye1e ff6 fsa fc0 sc0 ls0 ws0">printf(&quot;%s&quot;,<span class="_"> </span>line);</div><div class="t m0 x11 h11 ye1f ff6 fsa fc0 sc0 ls0 ws0">found++;</div><div class="t m0 x3c h11 ye20 ff6 fsa fc0 sc0 ls0 ws0">}</div><div class="t m0 x3b h11 ye21 ff6 fsa fc0 sc0 ls0 ws0">}</div><div class="t m0 x2c h11 ye22 ff6 fsa fc0 sc0 ls0 ws0">return<span class="_"> </span>found;</div><div class="t m0 x22 h11 ye23 ff6 fsa fc0 sc0 ls0 ws0">}</div><div class="t m0 x2 h3 ya2 ff6 fsa fc0 sc0 ls0 ws0">argc<span class="_ _7"> </span><span class="ff2 fs1"><span class="_ _9"> </span><span class="_ _7"> </span><span class="_ _9"> </span></span>argv<span class="_ _9"> </span><span class="ff2 fs1"><span class="_ _9"> </span><span class="_ _7"> </span><span class="_ _0"></span><span class="_ _7"> </span><span class="_ _9"> </span><span class="_ _7"> </span></span></div><div class="t m0 x3 h3 ya3 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _24"> </span><span class="_ _7"> </span><span class="_ _7"> </span><span class="_ _7"> </span><span class="_ _7"> </span><span class="_ _7"> </span><span class="_ _4"></span><span class="_ _9"> </span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _7"> </span><span class="_ _7"> </span><span class="_ _0"></span><span class="_ _8"></span><span class="_ _9"> </span><span class="ff6 fsa">argc<span class="_ _7"> </span></span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _4"></span><span class="_ _7"> </span></div><div class="t m0 x3 h3 ya4 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _0"></span><span class="_ _3"> </span><span class="_ _3"> </span><span class="ff6 fsa">argv<span class="_ _e"> </span></span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _e"> </span><span class="_ _8"></span><span class="_ _67"> </span><span class="_ _3"> </span><span class="ff6 fsa">argc</span></div><div class="t m0 x3 h3 y185 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _e"> </span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _7"> </span><span class="ff6 fsa">*argv<span class="_ _e"> </span></span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _f"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="ff6 fsa">*++argv<span class="_ _7"> </span></span><span class="_ _e"> </span></div><div class="t m0 x3 h3 y23 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="ff6 fsa">(*</span><span class="_ _0"></span><span class="ff6 fsa">[0]<span class="_ _6"> </span></span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _8"></span><span class="_ _9"> </span><span class="_ _6"> </span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
