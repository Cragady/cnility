<div id="pfaf" class="pf w0 h0" data-page-no="af"><div class="pc pcaf w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bgaf.png"/><div class="t m0 x3 h7 y49 ff2 fs5 fc0 sc0 ls0 ws0"><span class="_ _67"> </span><span class="_ _8"></span><span class="_ _1"> </span><span class="_ _1"> </span><span class="_ _1"> </span><span class="_ _cc"> </span><span class="ff5">163</span></div><div class="t m0 x3 hf y4a ff1 fs1 fc0 sc0 ls0 ws0">7.6<span class="_ _74"> </span>Error<span class="_"> </span>Handling—Stderr<span class="_"> </span>and<span class="_"> </span>Exit</div><div class="t m0 x2 h3 y1314 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _6"> </span><span class="_ _0"></span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="ff6 fsa">cat<span class="_ _6"> </span></span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _9"> </span><span class="_ _6"> </span><span class="_ _0"></span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _0"></span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _2"> </span></div><div class="t m0 x3 h3 y1315 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _e"> </span><span class="_ _4"></span><span class="_ _0"></span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _0"></span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _7"> </span><span class="_ _e"> </span></div><div class="t m0 x3 h3 y1316 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _3"> </span><span class="_ _0"></span><span class="_ _4"></span><span class="_ _e"> </span><span class="_"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _0"></span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _3"> </span></div><div class="t m0 x3 h3 y1317 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _8"></span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _8"></span></div><div class="t m0 x2 h3 y1318 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _d"></span><span class="_ _e"> </span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _8"></span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _7"> </span><span class="_ _e"> </span><span class="ff6 fsa">stderr</span><span class="_ _7"> </span></div><div class="t m0 x3 h3 y1319 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _4"></span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _c"> </span><span class="_ _8"></span><span class="_ _c"> </span><span class="_ _0"></span><span class="_ _9"> </span><span class="ff6 fsa">stdin<span class="_ _9"> </span></span><span class="_ _9"> </span><span class="ff6 fsa">stdout<span class="_ _9"> </span></span><span class="_ _8"></span><span class="_ _b"> </span></div><div class="t m0 x3 h3 y131a ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _2"> </span><span class="ff6 fsa">stderr<span class="_ _2"> </span></span><span class="_ _5"></span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _6"> </span></div><div class="t m0 x3 h3 y131b ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _0"></span></div><div class="t m0 x2 h3 y131c ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="ff6 fsa">cat<span class="_ _2"> </span></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _8"></span></div><div class="t m0 x22 h11 y131d ff6 fsa fc0 sc0 ls0 ws0">#include<span class="_"> </span>&lt;stdio.h&gt;</div><div class="t m0 x22 h11 y131e ff6 fsa fc0 sc0 ls0 ws0">/*<span class="_"> </span>cat:<span class="_ _1a"> </span>concatenate<span class="_"> </span>files,<span class="_"> </span>version<span class="_"> </span>2<span class="_"> </span>*/</div><div class="t m0 x22 h11 y131f ff6 fsa fc0 sc0 ls0 ws0">main(int<span class="_"> </span>argc,<span class="_"> </span>char<span class="_"> </span>*argv[])</div><div class="t m0 x22 h11 y1320 ff6 fsa fc0 sc0 ls0 ws0">{</div><div class="t m0 x2c h11 y1321 ff6 fsa fc0 sc0 ls0 ws0">FILE<span class="_"> </span>*fp;</div><div class="t m0 x2c h11 y1322 ff6 fsa fc0 sc0 ls0 ws0">void<span class="_"> </span>filecopy(FILE<span class="_"> </span>*,<span class="_"> </span>FILE<span class="_"> </span>*);</div><div class="t m0 x2c h11 y1323 ff6 fsa fc0 sc0 ls0 ws0">char<span class="_"> </span>*prog<span class="_"> </span>=<span class="_"> </span>argv[0];<span class="_ _7f"> </span>/*<span class="_"> </span>program<span class="_"> </span>name<span class="_"> </span>for<span class="_"> </span>errors<span class="_"> </span>*/</div><div class="t m0 x2c h11 y1324 ff6 fsa fc0 sc0 ls0 ws0">if<span class="_"> </span>(argc<span class="_"> </span>==<span class="_"> </span>1)<span class="_ _1a"> </span>/*<span class="_"> </span>no<span class="_"> </span>args;<span class="_"> </span>copy<span class="_"> </span>standard<span class="_"> </span>input<span class="_"> </span>*/</div><div class="t m0 x3b h11 y1325 ff6 fsa fc0 sc0 ls0 ws0">filecopy(stdin,<span class="_"> </span>stdout);</div><div class="t m0 x2c h11 y1326 ff6 fsa fc0 sc0 ls0 ws0">else</div><div class="t m0 x3b h11 y1327 ff6 fsa fc0 sc0 ls0 ws0">while<span class="_"> </span>(--argc<span class="_"> </span>&gt;<span class="_"> </span>0)</div><div class="t m0 x3c h11 y1328 ff6 fsa fc0 sc0 ls0 ws0">if<span class="_"> </span>((fp<span class="_"> </span>=<span class="_"> </span>fopen(*++argv,<span class="_"> </span>&quot;r&quot;))<span class="_"> </span>==<span class="_"> </span>NULL)<span class="_"> </span>{</div><div class="t m0 x11 h11 y1329 ff6 fsa fc0 sc0 ls0 ws0">fprintf(stderr,<span class="_"> </span>&quot;%s:<span class="_"> </span>can&apos;t<span class="_"> </span>open<span class="_"> </span>%s\n&quot;,</div><div class="t m0 x5c h11 y132a ff6 fsa fc0 sc0 ls0 ws0">prog,<span class="_"> </span>*argv);</div><div class="t m0 x11 h11 y132b ff6 fsa fc0 sc0 ls0 ws0">exit(1);</div><div class="t m0 x3c h11 y132c ff6 fsa fc0 sc0 ls0 ws0">}<span class="_"> </span>else<span class="_"> </span>{</div><div class="t m0 x11 h11 y132d ff6 fsa fc0 sc0 ls0 ws0">filecopy(fp,<span class="_"> </span>stdout);</div><div class="t m0 x11 h11 y132e ff6 fsa fc0 sc0 ls0 ws0">fclose(fp);</div><div class="t m0 x3c h11 y132f ff6 fsa fc0 sc0 ls0 ws0">}</div><div class="t m0 x2c h11 y1330 ff6 fsa fc0 sc0 ls0 ws0">if<span class="_"> </span>(ferror(stdout))<span class="_"> </span>{</div><div class="t m0 x3b h11 y1331 ff6 fsa fc0 sc0 ls0 ws0">fprintf(stderr,<span class="_"> </span>&quot;%s:<span class="_"> </span>error<span class="_"> </span>writing<span class="_"> </span>stdout\n&quot;,<span class="_"> </span>prog);</div><div class="t m0 x3b h11 y1332 ff6 fsa fc0 sc0 ls0 ws0">exit(2);</div><div class="t m0 x2c h11 y1333 ff6 fsa fc0 sc0 ls0 ws0">}</div><div class="t m0 x2c h11 y1334 ff6 fsa fc0 sc0 ls0 ws0">exit(0);</div><div class="t m0 x22 h11 y1335 ff6 fsa fc0 sc0 ls0 ws0">}</div><div class="t m0 x2 h3 y1336 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_"> </span><span class="_ _4"></span><span class="_"> </span><span class="_"> </span><span class="_ _4"></span><span class="_"> </span><span class="_ _4"></span><span class="_"> </span><span class="_ _4"></span><span class="_ _8"></span><span class="_ _18"> </span><span class="_ _68"> </span><span class="_"> </span><span class="_"> </span><span class="_"> </span><span class="_ _4"></span></div><div class="t m0 x3 h3 y1337 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _6"> </span><span class="_ _6"> </span><span class="ff6 fsa">fprintf<span class="_ _6"> </span></span><span class="_ _6"> </span><span class="_ _2"> </span><span class="ff6 fsa">stderr</span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _4"></span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _2"> </span></div><div class="t m0 x3 h3 y1338 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _0"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _4"></span><span class="_"> </span><span class="_ _d"></span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _4"></span></div><div class="t m0 x3 h3 y1339 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _4"></span><span class="_ _6"> </span><span class="_ _0"></span><span class="_ _6"> </span><span class="ff6 fsa">argv[0]</span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _4"></span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _4"></span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _4"></span><span class="_ _6"> </span></div><div class="t m0 x3 h3 y133a ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _2"> </span></div><div class="t m0 x2 h3 ya3 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _4"></span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="ff6 fsa">exit</span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _5"></span></div><div class="t m0 x3 h3 ya4 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _0"></span><span class="_ _3"> </span><span class="_ _4"></span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _f"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_"> </span><span class="ff6 fsa">exit<span class="_ _3"> </span></span><span class="_ _7"> </span><span class="_ _8"></span><span class="_ _0"></span><span class="_ _4"></span></div><div class="t m0 x3 h3 y185 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _6"> </span><span class="_ _4"></span><span class="_ _0"></span><span class="_ _1"> </span><span class="_ _1"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _8"></span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _1"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _1"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _4"></span><span class="_ _0"></span><span class="_ _6"> </span></div><div class="t m0 x3 h3 y23 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _6"> </span><span class="_ _3"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _0"></span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _8"></span><span class="_ _9"> </span><span class="_ _0"></span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
