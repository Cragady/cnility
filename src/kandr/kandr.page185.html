<div id="pfb9" class="pf w0 h0" data-page-no="b9"><div class="pc pcb9 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bgb9.png"/><div class="t m0 x3 h7 y49 ff2 fs5 fc0 sc0 ls0 ws0"><span class="_ _67"> </span><span class="_ _8"></span><span class="_ _1"> </span><span class="_ _0"></span><span class="_ _8"></span><span class="_ _1"> </span><span class="_ _10"> </span><span class="_ _cf"> </span><span class="ff5">173</span></div><div class="t m0 x3 h3 y4a ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="ff6 fsa">perms<span class="_ _2"> </span></span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _0"></span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _5"></span><span class="_ _0"></span><span class="_ _2"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _7"> </span><span class="ff6 fsa">open<span class="_ _2"> </span></span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _3"> </span><span class="_ _8"></span></div><div class="t m0 x2 h3 y1433 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="ff6 fsa">open<span class="_ _6"> </span></span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _7"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="ff6 fsa">creat</span></div><div class="t m0 x3 h3 y1434 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _4"></span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _0"></span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _4"></span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _3"> </span><span class="_ _8"></span></div><div class="t m0 x1d h11 y1435 ff6 fsa fc0 sc0 ls0 ws0">int<span class="_"> </span>creat(char<span class="_"> </span>*name,<span class="_"> </span>int<span class="_"> </span>perms);</div><div class="t m0 x1d h11 y1436 ff6 fsa fc0 sc0 ls0 ws0">fd<span class="_"> </span>=<span class="_"> </span>creat(name,<span class="_"> </span>perms);</div><div class="t m0 x3 h3 y1437 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _7"> </span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _c"> </span><span class="_ _9"> </span><span class="_ _7"> </span><span class="_ _4"></span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _4"></span><span class="_ _9"> </span><span class="_ _c"> </span><span class="_ _4"></span><span class="_"> </span><span class="_ _7"> </span><span class="ff6 fsa">−1<span class="_ _9"> </span></span><span class="_ _9"> </span><span class="_ _a"> </span><span class="_ _9"> </span></div><div class="t m0 x3 h3 y1438 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _e"> </span><span class="_ _4"></span><span class="_ _7"> </span><span class="_ _8"></span><span class="_ _7"> </span><span class="ff6 fsa">creat<span class="_ _e"> </span></span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _5"></span><span class="_ _4"></span><span class="_ _7"> </span><span class="_ _7"> </span><span class="_ _0"></span><span class="_ _0"></span><span class="_ _e"> </span><span class="_ _e"> </span></div><div class="t m0 x3 h3 y1439 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _0"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _3"> </span><span class="ff6 fsa">creat<span class="_ _2"> </span></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _8"></span></div><div class="t m0 x2 h3 y143a ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _4"></span><span class="_ _6"> </span></div><div class="t m0 x95 h11 y143b ff6 fsa fc0 sc0 ls0 ws0">creat</div><div class="t m0 x27 h3 y143a ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _4"></span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _5"></span><span class="_ _6"> </span></div><div class="t m0 x3 h3 y143c ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _7"> </span><span class="ff6 fsa">perms<span class="_ _7"> </span></span><span class="_ _0"></span><span class="_ _24"> </span><span class="_ _e"> </span><span class="_ _7"> </span><span class="_ _7"> </span><span class="_ _7"> </span><span class="_ _9"> </span><span class="_ _e"> </span><span class="_ _7"> </span><span class="_ _7"> </span><span class="_ _7"> </span></div><div class="t m0 x3 h3 y143d ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _e"> </span><span class="_ _4"></span><span class="_ _5"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _3"> </span></div><div class="t m0 x3 h3 y143e ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _e"> </span><span class="_ _7"> </span><span class="_ _4"></span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _4"></span><span class="_ _7"> </span><span class="_ _3"> </span><span class="_ _7"> </span><span class="_ _0"></span><span class="_ _8"></span><span class="_ _e"> </span><span class="_ _0"></span><span class="_ _4"></span><span class="_ _7"> </span><span class="_ _7"> </span><span class="_ _4"></span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _8"></span></div><div class="t m0 x3 h3 y143f ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _7"> </span><span class="_ _9"> </span><span class="_ _0"></span><span class="_ _9"> </span><span class="_ _7"> </span><span class="_ _4"></span><span class="_ _9"> </span><span class="_ _0"></span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _5"></span><span class="_ _8"></span></div><div class="t m0 x3 h3 y1440 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _8"></span><span class="_ _3"> </span><span class="_ _4"></span><span class="_ _e"> </span><span class="ff6 fsa">0755<span class="_ _e"> </span></span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _0"></span><span class="_ _e"> </span><span class="_ _5"></span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _d"></span></div><div class="t m0 x3 h3 y1441 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _5"></span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _0"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _8"></span><span class="_ _2"> </span><span class="_ _4"></span></div><div class="t m0 x2 h3 y1442 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _d"></span><span class="_ _e"> </span><span class="_ _4"></span><span class="_ _4"></span><span class="_ _7"> </span><span class="_ _3"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _4"></span><span class="_ _3"> </span><span class="ff6 fsa">cp</span><span class="_ _e"> </span></div><div class="t m0 x3 h3 y1443 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _4"></span><span class="_"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _4"></span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _3"> </span></div><div class="t m0 x3 h3 y1444 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _7"> </span><span class="_ _9"> </span><span class="_ _7"> </span><span class="_ _7"> </span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _d"></span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _4"></span><span class="_ _7"> </span><span class="_ _5"></span><span class="_ _9"> </span><span class="_ _7"> </span></div><div class="t m0 x3 h3 y1445 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _6"> </span></div><div class="t m0 x1d h11 y1446 ff6 fsa fc0 sc0 ls0 ws0">#include<span class="_"> </span>&lt;stdio.h&gt;</div><div class="t m0 x1d h11 y1447 ff6 fsa fc0 sc0 ls0 ws0">#include<span class="_"> </span>&lt;fcntl.h&gt;</div><div class="t m0 x1d h11 y1448 ff6 fsa fc0 sc0 ls0 ws0">#include<span class="_"> </span>&quot;syscalls.h&quot;</div><div class="t m0 x1d h11 y1449 ff6 fsa fc0 sc0 ls0 ws0">#define<span class="_"> </span>PERMS<span class="_"> </span>0666<span class="_ _7f"> </span>/*<span class="_"> </span>RW<span class="_"> </span>for<span class="_"> </span>owner,<span class="_"> </span>group,<span class="_"> </span>others<span class="_"> </span>*/</div><div class="t m0 x1d h11 y144a ff6 fsa fc0 sc0 ls0 ws0">void<span class="_"> </span>error(char<span class="_"> </span>*,<span class="_"> </span>...);</div><div class="t m0 x1d h11 y144b ff6 fsa fc0 sc0 ls0 ws0">/*<span class="_"> </span>cp:<span class="_ _1a"> </span>copy<span class="_"> </span>f1<span class="_"> </span>to<span class="_"> </span>f2<span class="_"> </span>*/</div><div class="t m0 x1d h11 y144c ff6 fsa fc0 sc0 ls0 ws0">main(int<span class="_"> </span>argc,<span class="_"> </span>char<span class="_"> </span>*argv[])</div><div class="t m0 x1d h11 y144d ff6 fsa fc0 sc0 ls0 ws0">{</div><div class="t m0 x1f h11 y144e ff6 fsa fc0 sc0 ls0 ws0">int<span class="_"> </span>f1,<span class="_"> </span>f2,<span class="_"> </span>n;</div><div class="t m0 x1f h11 y144f ff6 fsa fc0 sc0 ls0 ws0">char<span class="_"> </span>buf[BUFSIZ];</div><div class="t m0 x1f h11 y1450 ff6 fsa fc0 sc0 ls0 ws0">if<span class="_"> </span>(argc<span class="_"> </span>!=<span class="_"> </span>3)</div><div class="t m0 x26 h11 y1451 ff6 fsa fc0 sc0 ls0 ws0">error(&quot;Usage:<span class="_"> </span>cp<span class="_"> </span>from<span class="_"> </span>to&quot;);</div><div class="t m0 x1f h11 y1452 ff6 fsa fc0 sc0 ls0 ws0">if<span class="_"> </span>((f1<span class="_"> </span>=<span class="_"> </span>open(argv[1],<span class="_"> </span>O_RDONLY,<span class="_"> </span>0))<span class="_"> </span>==<span class="_"> </span>-1)</div><div class="t m0 x26 h11 y1453 ff6 fsa fc0 sc0 ls0 ws0">error(&quot;cp:<span class="_"> </span>can&apos;t<span class="_"> </span>open<span class="_"> </span>%s&quot;,<span class="_"> </span>argv[1]);</div><div class="t m0 x1f h11 y1454 ff6 fsa fc0 sc0 ls0 ws0">if<span class="_"> </span>((f2<span class="_"> </span>=<span class="_"> </span>creat(argv[2],<span class="_"> </span>PERMS))<span class="_"> </span>==<span class="_"> </span>-1)</div><div class="t m0 x26 h11 y1455 ff6 fsa fc0 sc0 ls0 ws0">error(&quot;cp:<span class="_"> </span>can&apos;t<span class="_"> </span>create<span class="_"> </span>%s,<span class="_"> </span>mode<span class="_"> </span>%03o&quot;,</div><div class="t m0 x5f h11 y1456 ff6 fsa fc0 sc0 ls0 ws0">argv[2],<span class="_"> </span>PERMS);</div><div class="t m0 x1f h11 y1457 ff6 fsa fc0 sc0 ls0 ws0">while<span class="_"> </span>((n<span class="_"> </span>=<span class="_"> </span>read(f1,<span class="_"> </span>buf,<span class="_"> </span>BUFSIZ))<span class="_"> </span>&gt;<span class="_"> </span>0)</div><div class="t m0 x26 h11 y1458 ff6 fsa fc0 sc0 ls0 ws0">if<span class="_"> </span>(write(f2,<span class="_"> </span>buf,<span class="_"> </span>n)<span class="_"> </span>!=<span class="_"> </span>n)</div><div class="t m0 x2f h11 y1459 ff6 fsa fc0 sc0 ls0 ws0">error(&quot;cp:<span class="_"> </span>write<span class="_"> </span>error<span class="_"> </span>on<span class="_"> </span>file<span class="_"> </span>%s&quot;,<span class="_"> </span>argv[2]);</div><div class="t m0 x1f h11 y145a ff6 fsa fc0 sc0 ls0 ws0">return<span class="_"> </span>0;</div><div class="t m0 x1d h11 y145b ff6 fsa fc0 sc0 ls0 ws0">}</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
