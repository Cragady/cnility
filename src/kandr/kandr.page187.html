<div id="pfbb" class="pf w0 h0" data-page-no="bb"><div class="pc pcbb w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bgbb.png"/><div class="t m0 x3 h7 y49 ff2 fs5 fc0 sc0 ls0 ws0"><span class="_ _67"> </span><span class="_ _10"> </span><span class="_ _0"></span><span class="_ _4"></span><span class="_ _1"> </span><span class="_ _1"> </span><span class="_ _1"> </span><span class="_ _1"> </span><span class="_ _d0"> </span><span class="ff5">175</span></div><div class="t m0 x3 h3 y4a ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _10"> </span><span class="_ _10"> </span><span class="_ _1"> </span><span class="_ _10"> </span><span class="_ _10"> </span><span class="_ _10"> </span><span class="_ _1"> </span><span class="_ _4"></span><span class="_ _10"> </span><span class="_ _10"> </span><span class="_ _8"></span><span class="_ _7"> </span><span class="_ _10"> </span><span class="_ _10"> </span><span class="_ _1"> </span><span class="ff6 fsa">lseek<span class="_ _10"> </span></span><span class="_ _0"></span><span class="_ _4"></span></div><div class="t m0 x3 h3 y73 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _8"></span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _0"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _0"></span></div><div class="t m0 x1d h11 y147d ff6 fsa fc0 sc0 ls0 ws0">long<span class="_"> </span>lseek(int<span class="_"> </span>fd,<span class="_"> </span>long<span class="_"> </span>offset,<span class="_"> </span>int<span class="_"> </span>origin);</div><div class="t m0 x3 h3 y147e ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _3"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _e"> </span><span class="ff6 fsa">fd<span class="_ _e"> </span></span><span class="_ _e"> </span><span class="ff6 fsa">offset</span><span class="_ _e"> </span><span class="_ _3"> </span></div><div class="t m0 x3 h3 y147f ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _4"></span><span class="_ _3"> </span><span class="_ _4"></span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _0"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="ff6 fsa">origin</span><span class="_ _9"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span></div><div class="t m0 x3 h3 y1480 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _0"></span><span class="_ _3"> </span><span class="_ _4"></span><span class="_ _3"> </span><span class="_"> </span><span class="ff6 fsa">origin<span class="_ _3"> </span></span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _0"></span><span class="_ _3"> </span><span class="ff6 fsa">offset</span></div><div class="t m0 x3 h3 y1481 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _0"></span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _7"> </span><span class="_ _4"></span><span class="_ _e"> </span><span class="_ _7"> </span><span class="_ _3"> </span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _0"></span><span class="_ _e"> </span></div><div class="t m0 x3 h3 y1482 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _0"></span><span class="_ _70"></span><span class="_ _9"> </span><span class="_ _8"></span><span class="_ _2"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _6"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="ff6 fsa">&gt;&gt;</span></div><div class="t m0 x3 h3 y1483 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="ff6 fsa">&quot;a&quot;<span class="_ _3"> </span></span><span class="_ _4"></span><span class="_ _2"> </span><span class="ff6 fsa">fopen</span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _4"></span><span class="_ _2"> </span></div><div class="t m0 x1d h11 y1484 ff6 fsa fc0 sc0 ls0 ws0">lseek(fd,<span class="_"> </span>0L,<span class="_"> </span>2);</div><div class="t m0 x3 h3 y1485 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _d"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _0"></span></div><div class="t m0 x1d h11 y1486 ff6 fsa fc0 sc0 ls0 ws0">lseek(fd,<span class="_"> </span>0L,<span class="_"> </span>0);</div><div class="t m0 x3 h3 y1487 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _9"> </span><span class="_ _9"> </span><span class="ff6 fsa">0L<span class="_ _9"> </span></span><span class="_ _0"></span><span class="_"> </span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _9"> </span><span class="ff6 fsa">(long)<span class="_"> </span>0<span class="_ _9"> </span></span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _9"> </span><span class="ff6 fsa">0<span class="_ _9"> </span></span></div><div class="t m0 x3 h3 y1488 ff6 fsa fc0 sc0 ls0 ws0">lseek<span class="_ _2"> </span><span class="ff2 fs1"><span class="_ _2"> </span><span class="_ _0"></span><span class="_ _0"></span><span class="_ _2"> </span></span></div><div class="t m0 x2 h3 y1489 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _0"></span><span class="_ _2"> </span><span class="ff6 fsa">lseek</span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _4"></span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _0"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _4"></span><span class="_ _4"></span><span class="_ _3"> </span><span class="_ _0"></span><span class="_ _3"> </span></div><div class="t m0 x3 h3 y148a ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _0"></span><span class="_ _3"> </span><span class="_ _8"></span><span class="_ _67"> </span><span class="_ _8"></span><span class="_ _3"> </span><span class="_ _8"></span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _0"></span><span class="_ _0"></span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _0"></span><span class="_ _3"> </span><span class="_ _0"></span></div><div class="t m0 x3 h3 y148b ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _8"></span><span class="_ _9"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _0"></span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="ff6 fsa">−1<span class="_ _2"> </span></span></div><div class="t m0 x3 h3 y148c ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _4"></span><span class="_ _4"></span></div><div class="t m0 x1d h11 y148d ff6 fsa fc0 sc0 ls0 ws0">#include<span class="_"> </span>&quot;syscalls.h&quot;</div><div class="t m0 x1d h11 y148e ff6 fsa fc0 sc0 ls0 ws0">/*<span class="_"> </span>get:<span class="_ _1a"> </span>read<span class="_"> </span>n<span class="_"> </span>bytes<span class="_"> </span>from<span class="_"> </span>position<span class="_"> </span>pos<span class="_"> </span>*/</div><div class="t m0 x1d h11 y148f ff6 fsa fc0 sc0 ls0 ws0">int<span class="_"> </span>get(int<span class="_"> </span>fd,<span class="_"> </span>long<span class="_"> </span>pos,<span class="_"> </span>char<span class="_"> </span>*buf,<span class="_"> </span>int<span class="_"> </span>n)</div><div class="t m0 x1d h11 y1490 ff6 fsa fc0 sc0 ls0 ws0">{</div><div class="t m0 x1f h11 y1491 ff6 fsa fc0 sc0 ls0 ws0">if<span class="_"> </span>(lseek(fd,<span class="_"> </span>pos,<span class="_"> </span>0)<span class="_"> </span>&gt;=<span class="_"> </span>0)<span class="_ _1a"> </span>/*<span class="_"> </span>get<span class="_"> </span>to<span class="_"> </span>pos<span class="_"> </span>*/</div><div class="t m0 x26 h11 y1492 ff6 fsa fc0 sc0 ls0 ws0">return<span class="_"> </span>read(fd,<span class="_"> </span>buf,<span class="_"> </span>n);</div><div class="t m0 x1f h11 y1493 ff6 fsa fc0 sc0 ls0 ws0">else</div><div class="t m0 x26 h11 y1494 ff6 fsa fc0 sc0 ls0 ws0">return<span class="_"> </span>-1;</div><div class="t m0 x1d h11 y1495 ff6 fsa fc0 sc0 ls0 ws0">}</div><div class="t m0 x3 h3 y1496 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="ff6 fsa">lseek<span class="_ _6"> </span></span><span class="_ _6"> </span><span class="_ _2"> </span><span class="ff6 fsa">long<span class="_ _6"> </span></span><span class="_ _6"> </span><span class="_ _0"></span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _4"></span><span class="_ _2"> </span></div><div class="t m0 x3 h3 y1497 ff6 fsa fc0 sc0 ls0 ws0">−1<span class="_ _3"> </span><span class="ff2 fs1"><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _8"></span><span class="_ _68"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="ff6 fsa">fseek<span class="_ _3"> </span></span><span class="_ _3"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="ff6 fsa">lseek</span></span></div><div class="t m0 x3 h3 y1498 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _0"></span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _0"></span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="ff6 fsa">FILE<span class="_"> </span>*<span class="_ _6"> </span></span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _0"></span></div><div class="t m0 x3 h3 y1499 ff2 fs1 fc0 sc0 ls0 ws0"></div><div class="t m0 x3 hf y149a ff1 fs1 fc0 sc0 ls0 ws0">8.5<span class="_ _74"> </span>Example—An<span class="_"> </span>Implementation<span class="_"> </span>of<span class="_"> </span>Fopen<span class="_"> </span>and<span class="_"> </span>Getc</div><div class="t m0 x2 h3 y149b ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _0"></span><span class="_ _6"> </span><span class="_ _0"></span><span class="_ _6"> </span><span class="_ _2"> </span></div><div class="t m0 x3 h3 y149c ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _0"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="ff6 fsa">fopen<span class="_ _2"> </span></span><span class="_ _2"> </span><span class="ff6 fsa">getc</span></div><div class="t m0 x2 h3 ya3 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _8"></span><span class="_ _2"> </span><span class="_ _0"></span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _4"></span></div><div class="t m0 x3 h3 ya4 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _9"> </span><span class="_"> </span><span class="_ _8"></span><span class="_ _b"> </span><span class="_"> </span><span class="_ _9"> </span><span class="_ _c"> </span><span class="_ _9"> </span><span class="_"> </span><span class="_ _9"> </span><span class="_"> </span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _0"></span><span class="_ _9"> </span></div><div class="t m0 x3 h3 y185 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _0"></span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _4"></span><span class="_ _5"></span><span class="_ _0"></span><span class="_ _6"> </span><span class="_ _4"></span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _9"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _d"></span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span></div><div class="t m0 x3 h3 y23 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _0"></span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
