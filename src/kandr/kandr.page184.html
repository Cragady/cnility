<div id="pfb8" class="pf w0 h0" data-page-no="b8"><div class="pc pcb8 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bgb8.png"/><div class="t m0 x3 h7 y49 ff5 fs5 fc0 sc0 ls0 ws0">172<span class="_ _65"> </span><span class="ff2"><span class="_ _1"> </span><span class="_ _67"> </span><span class="_ _1"> </span><span class="_ _1"> </span><span class="_ _0"></span><span class="_ _1"> </span><span class="_ _8"></span><span class="_ _4"></span></span></div><div class="t m0 x1d h11 y4a ff6 fsa fc0 sc0 ls0 ws0">#include<span class="_"> </span>&quot;syscalls.h&quot;</div><div class="t m0 x1d h11 y1a3 ff6 fsa fc0 sc0 ls0 ws0">/*<span class="_"> </span>getchar:<span class="_ _1a"> </span>simple<span class="_"> </span>buffered<span class="_"> </span>version<span class="_"> </span>*/</div><div class="t m0 x1d h11 y1a4 ff6 fsa fc0 sc0 ls0 ws0">int<span class="_"> </span>getchar(void)</div><div class="t m0 x1d h11 y1a5 ff6 fsa fc0 sc0 ls0 ws0">{</div><div class="t m0 x1f h11 y1a6 ff6 fsa fc0 sc0 ls0 ws0">static<span class="_"> </span>char<span class="_"> </span>buf[BUFSIZ];</div><div class="t m0 x1f h11 y1a7 ff6 fsa fc0 sc0 ls0 ws0">static<span class="_"> </span>char<span class="_"> </span>*bufp<span class="_"> </span>=<span class="_"> </span>buf;</div><div class="t m0 x1f h11 y1a8 ff6 fsa fc0 sc0 ls0 ws0">static<span class="_"> </span>int<span class="_"> </span>n<span class="_"> </span>=<span class="_"> </span>0;</div><div class="t m0 x1f h11 y1c6 ff6 fsa fc0 sc0 ls0 ws0">if<span class="_"> </span>(n<span class="_"> </span>==<span class="_"> </span>0)<span class="_"> </span>{<span class="_ _7f"> </span>/*<span class="_"> </span>buffer<span class="_"> </span>is<span class="_"> </span>empty<span class="_"> </span>*/</div><div class="t m0 x26 h11 y1c7 ff6 fsa fc0 sc0 ls0 ws0">n<span class="_"> </span>=<span class="_"> </span>read(0,<span class="_"> </span>buf,<span class="_"> </span>sizeof<span class="_"> </span>buf);</div><div class="t m0 x26 h11 y1c8 ff6 fsa fc0 sc0 ls0 ws0">bufp<span class="_"> </span>=<span class="_"> </span>buf;</div><div class="t m0 x1f h11 y279 ff6 fsa fc0 sc0 ls0 ws0">}</div><div class="t m0 x1f h11 y1c9 ff6 fsa fc0 sc0 ls0 ws0">return<span class="_"> </span>(--n<span class="_"> </span>&gt;=<span class="_"> </span>0)<span class="_"> </span>?<span class="_"> </span>(unsigned<span class="_"> </span>char)<span class="_"> </span>*bufp++<span class="_"> </span>:<span class="_"> </span>EOF;</div><div class="t m0 x1d h11 y1ca ff6 fsa fc0 sc0 ls0 ws0">}</div><div class="t m0 x3 h3 y141c ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_"> </span><span class="ff6 fsa">getchar<span class="_ _2"> </span></span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="ff6 fsa">&lt;stdio.h&gt;<span class="_ _3"> </span></span><span class="_ _e"> </span></div><div class="t m0 x3 h3 y141d ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="ff6 fsa">#undef<span class="_ _2"> </span></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="ff6 fsa">getchar<span class="_ _6"> </span></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span></div><div class="t m0 x3 h3 y141e ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _4"></span><span class="_ _4"></span></div><div class="t m0 x3 hf y141f ff1 fs1 fc0 sc0 ls0 ws0">8.3<span class="_ _74"> </span>Open,<span class="_"> </span>Creat,<span class="_"> </span>Close,<span class="_"> </span>Unlink</div><div class="t m0 x2 h3 y1420 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _10"> </span><span class="_ _1"> </span><span class="_ _1"> </span><span class="_ _10"> </span><span class="_ _10"> </span><span class="_ _6"> </span><span class="_ _10"> </span><span class="_ _1"> </span><span class="_ _4"></span><span class="_ _8"></span><span class="_ _1"> </span><span class="_ _4"></span><span class="_ _1"> </span><span class="_ _0"></span><span class="_ _1"> </span><span class="_ _4"></span></div><div class="t m0 x3 h3 y1421 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _e"> </span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _24"> </span><span class="_ _0"></span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _0"></span><span class="_ _e"> </span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _4"></span></div><div class="t m0 x3 h3 y1422 ff6 fsa fc0 sc0 ls0 ws0">open<span class="_ _2"> </span><span class="ff2 fs1"><span class="_ _2"> </span></span>creat<span class="_ _2"> </span><span class="ff2 fs1"></span></div><div class="t m0 x2 h3 y1423 ff6 fsa fc0 sc0 ls0 ws0">open<span class="_ _2"> </span><span class="ff2 fs1"><span class="_ _2"> </span><span class="_ _0"></span><span class="_ _2"> </span><span class="_ _4"></span><span class="_ _3"> </span><span class="_ _2"> </span><span class="ff6 fsa">fopen<span class="_ _2"> </span></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _3"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _3"> </span></span></div><div class="t m0 x3 h3 y1424 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _3"> </span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _d"></span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _7"> </span><span class="_ _d"></span><span class="_ _7"> </span><span class="_ _3"> </span><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="ff6 fsa">int</span><span class="_ _f"> </span><span class="ff6 fsa">open</span></div><div class="t m0 x3 h3 y1425 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _6"> </span><span class="ff6 fsa">−1<span class="_ _2"> </span></span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _0"></span><span class="_ _2"> </span><span class="_ _8"></span></div><div class="t m0 x1d h11 y1426 ff6 fsa fc0 sc0 ls0 ws0">#include<span class="_"> </span>&lt;fcntl.h&gt;</div><div class="t m0 x1d h11 y1427 ff6 fsa fc0 sc0 ls0 ws0">int<span class="_"> </span>fd;</div><div class="t m0 x1d h11 y1428 ff6 fsa fc0 sc0 ls0 ws0">int<span class="_"> </span>open(char<span class="_"> </span>*name,<span class="_"> </span>int<span class="_"> </span>flags,<span class="_"> </span>int<span class="_"> </span>perms);</div><div class="t m0 x1d h11 y1429 ff6 fsa fc0 sc0 ls0 ws0">fd<span class="_"> </span>=<span class="_"> </span>open(name,<span class="_"> </span>flags,<span class="_"> </span>perms);</div><div class="t m0 x3 h3 y142a ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _6"> </span><span class="_ _6"> </span><span class="ff6 fsa">fopen</span><span class="_ _6"> </span><span class="_ _1"> </span><span class="ff6 fsa">name<span class="_ _6"> </span></span><span class="_ _1"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _1"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _8"></span></div><div class="t m0 x3 h3 y142b ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _10"> </span><span class="_ _10"> </span><span class="_ _10"> </span><span class="ff6 fsa">flags</span><span class="_ _1"> </span><span class="_ _1"> </span><span class="_ _10"> </span><span class="ff6 fsa">int<span class="_ _10"> </span></span><span class="_ _10"> </span><span class="_ _10"> </span><span class="_ _10"> </span><span class="_ _10"> </span><span class="_ _10"> </span><span class="_ _10"> </span><span class="_ _1"> </span><span class="_ _10"> </span></div><div class="t m0 x3 h3 y142c ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _6"> </span></div><div class="t m0 x2d h22 y142d ff6 fsa fc0 sc0 ls0 ws0">O_RDONLY<span class="_ _94"> </span><span class="ff2 fs12"><span class="_ _2"> </span><span class="_ _4"></span><span class="_ _6"> </span><span class="_ _6"> </span></span></div><div class="t m0 x2d h22 y142e ff6 fsa fc0 sc0 ls0 ws0">O_WRONLY<span class="_ _94"> </span><span class="ff2 fs12"><span class="_ _2"> </span><span class="_ _4"></span><span class="_ _6"> </span><span class="_ _2"> </span></span></div><div class="t m0 x2d h22 y142f ff6 fsa fc0 sc0 ls0 ws0">O_RDWR<span class="_ _80"> </span><span class="ff2 fs12"><span class="_ _6"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span></span></div><div class="t m0 x3 h3 y1430 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="ff6 fsa">&lt;fcntl.h&gt;<span class="_ _2"> </span></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _2"> </span></div><div class="t m0 x45 h3 y1431 ff6 fsa fc0 sc0 ls0 ws0">&lt;sys/file.h&gt;<span class="_ _2"> </span><span class="ff2 fs1"><span class="_ _2"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _8"></span></span></div><div class="t m0 x2 h3 y1432 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _d"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _0"></span><span class="_ _2"> </span></div><div class="t m0 x1d h11 y23 ff6 fsa fc0 sc0 ls0 ws0">fd<span class="_"> </span>=<span class="_"> </span>open(name,<span class="_"> </span>O_RDONLY,<span class="_"> </span>0);</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
