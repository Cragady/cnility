<div id="pf95" class="pf w0 h0" data-page-no="95"><div class="pc pc95 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg95.png"/><div class="t m0 x3 h7 y49 ff2 fs5 fc0 sc0 ls0 ws0"><span class="_ _67"> </span><span class="_ _10"> </span><span class="_ _1"> </span><span class="_ _8"></span><span class="_ _1e"> </span><span class="ff5">137</span></div><div class="t m0 x1d h11 y4a ff6 fsa fc0 sc0 ls0 ws0">#include<span class="_"> </span>&lt;stdio.h&gt;</div><div class="t m0 x1d h11 y243 ff6 fsa fc0 sc0 ls0 ws0">#include<span class="_"> </span>&lt;ctype.h&gt;</div><div class="t m0 x1d h11 y1a3 ff6 fsa fc0 sc0 ls0 ws0">#include<span class="_"> </span>&lt;string.h&gt;</div><div class="t m0 x1d h11 y1a4 ff6 fsa fc0 sc0 ls0 ws0">#define<span class="_"> </span>MAXWORD<span class="_"> </span>100</div><div class="t m0 x1d h11 y1a6 ff6 fsa fc0 sc0 ls0 ws0">int<span class="_"> </span>getword(char<span class="_"> </span>*,<span class="_"> </span>int);</div><div class="t m0 x1d h11 y1a7 ff6 fsa fc0 sc0 ls0 ws0">struct<span class="_"> </span>key<span class="_"> </span>*binsearch(char<span class="_"> </span>*,<span class="_"> </span>struct<span class="_"> </span>key<span class="_"> </span>*,<span class="_"> </span>int);</div><div class="t m0 x1d h11 y278 ff6 fsa fc0 sc0 ls0 ws0">/*<span class="_"> </span>count<span class="_"> </span>C<span class="_"> </span>keywords;<span class="_"> </span>pointer<span class="_"> </span>version<span class="_"> </span>*/</div><div class="t m0 x1d h11 y1c6 ff6 fsa fc0 sc0 ls0 ws0">main()</div><div class="t m0 x1d h11 y1c7 ff6 fsa fc0 sc0 ls0 ws0">{</div><div class="t m0 x1f h11 y1c8 ff6 fsa fc0 sc0 ls0 ws0">char<span class="_"> </span>word[MAXWORD];</div><div class="t m0 x1f h11 y279 ff6 fsa fc0 sc0 ls0 ws0">struct<span class="_"> </span>key<span class="_"> </span>*p;</div><div class="t m0 x1f h11 y1ca ff6 fsa fc0 sc0 ls0 ws0">while<span class="_"> </span>(getword(word,<span class="_"> </span>MAXWORD)<span class="_"> </span>!=<span class="_"> </span>EOF)</div><div class="t m0 x26 h11 y1cb ff6 fsa fc0 sc0 ls0 ws0">if<span class="_"> </span>(isalpha(word[0]))</div><div class="t m0 x2f h11 y1cc ff6 fsa fc0 sc0 ls0 ws0">if<span class="_"> </span>((p=binsearch(word,<span class="_"> </span>keytab,<span class="_"> </span>NKEYS))<span class="_"> </span>!=</div><div class="t m0 x38 h11 y1cd ff6 fsa fc0 sc0 ls0 ws0">NULL)</div><div class="t m0 x5f h11 y1ce ff6 fsa fc0 sc0 ls0 ws0">p-&gt;count++;</div><div class="t m0 x1f h11 y1cf ff6 fsa fc0 sc0 ls0 ws0">for<span class="_"> </span>(p<span class="_"> </span>=<span class="_"> </span>keytab;<span class="_"> </span>p<span class="_"> </span>&lt;<span class="_"> </span>keytab<span class="_"> </span>+<span class="_"> </span>NKEYS;<span class="_"> </span>p++)</div><div class="t m0 x26 h11 y430 ff6 fsa fc0 sc0 ls0 ws0">if<span class="_"> </span>(p-&gt;count<span class="_"> </span>&gt;<span class="_"> </span>0)</div><div class="t m0 x2f h11 y431 ff6 fsa fc0 sc0 ls0 ws0">printf(&quot;%4d<span class="_"> </span>%s\n&quot;,<span class="_"> </span>p-&gt;count,<span class="_"> </span>p-&gt;word);</div><div class="t m0 x1f h11 y432 ff6 fsa fc0 sc0 ls0 ws0">return<span class="_"> </span>0;</div><div class="t m0 x1d h11 y433 ff6 fsa fc0 sc0 ls0 ws0">}</div><div class="t m0 x1d h11 y101c ff6 fsa fc0 sc0 ls0 ws0">/*<span class="_"> </span>binsearch:<span class="_ _1a"> </span>find<span class="_"> </span>word<span class="_"> </span>in<span class="_"> </span>tab[0]...tab[n-1]<span class="_"> </span>*/</div><div class="t m0 x1d h11 y101d ff6 fsa fc0 sc0 ls0 ws0">struct<span class="_"> </span>key<span class="_"> </span>*binsearch(char<span class="_"> </span>*word,<span class="_"> </span>struct<span class="_"> </span>key<span class="_"> </span>*tab,<span class="_"> </span>int<span class="_"> </span>n)</div><div class="t m0 x1d h11 y101e ff6 fsa fc0 sc0 ls0 ws0">{</div><div class="t m0 x1f h11 y101f ff6 fsa fc0 sc0 ls0 ws0">int<span class="_"> </span>cond;</div><div class="t m0 x1f h11 y1020 ff6 fsa fc0 sc0 ls0 ws0">struct<span class="_"> </span>key<span class="_"> </span>*low<span class="_"> </span>=<span class="_"> </span>&amp;tab[0];</div><div class="t m0 x1f h11 y1021 ff6 fsa fc0 sc0 ls0 ws0">struct<span class="_"> </span>key<span class="_"> </span>*high<span class="_"> </span>=<span class="_"> </span>&amp;tab[n];</div><div class="t m0 x1f h11 y1022 ff6 fsa fc0 sc0 ls0 ws0">struct<span class="_"> </span>key<span class="_"> </span>*mid;</div><div class="t m0 x1f h11 y1023 ff6 fsa fc0 sc0 ls0 ws0">while<span class="_"> </span>(low<span class="_"> </span>&lt;<span class="_"> </span>high)<span class="_"> </span>{</div><div class="t m0 x26 h11 y1024 ff6 fsa fc0 sc0 ls0 ws0">mid<span class="_"> </span>=<span class="_"> </span>low<span class="_"> </span>+<span class="_"> </span>(high-low)<span class="_"> </span>/<span class="_"> </span>2;</div><div class="t m0 x26 h11 y1025 ff6 fsa fc0 sc0 ls0 ws0">if<span class="_"> </span>((cond<span class="_"> </span>=<span class="_"> </span>strcmp(word,<span class="_"> </span>mid-&gt;word))<span class="_"> </span>&lt;<span class="_"> </span>0)</div><div class="t m0 x2f h11 y1026 ff6 fsa fc0 sc0 ls0 ws0">high<span class="_"> </span>=<span class="_"> </span>mid;</div><div class="t m0 x26 h11 y1027 ff6 fsa fc0 sc0 ls0 ws0">else<span class="_"> </span>if<span class="_"> </span>(cond<span class="_"> </span>&gt;<span class="_"> </span>0)</div><div class="t m0 x2f h11 y1028 ff6 fsa fc0 sc0 ls0 ws0">low<span class="_"> </span>=<span class="_"> </span>mid<span class="_"> </span>+<span class="_"> </span>1;</div><div class="t m0 x26 h11 y1029 ff6 fsa fc0 sc0 ls0 ws0">else</div><div class="t m0 x2f h11 y102a ff6 fsa fc0 sc0 ls0 ws0">return<span class="_"> </span>mid;</div><div class="t m0 x1f h11 y102b ff6 fsa fc0 sc0 ls0 ws0">}</div><div class="t m0 x1f h11 y102c ff6 fsa fc0 sc0 ls0 ws0">return<span class="_"> </span>NULL;</div><div class="t m0 x1d h11 y102d ff6 fsa fc0 sc0 ls0 ws0">}</div><div class="t m0 x2 h3 ya1 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_"> </span><span class="_"> </span><span class="_"> </span><span class="_ _11"> </span><span class="_ _8"></span><span class="_"> </span><span class="_ _68"> </span><span class="_ _68"> </span><span class="_ _8"></span><span class="_ _69"> </span><span class="_ _68"> </span><span class="_ _68"> </span><span class="_ _0"></span><span class="_"> </span></div><div class="t m0 x3 h3 ya2 ff6 fsa fc0 sc0 ls0 ws0">binsearch<span class="_ _c"> </span><span class="ff2 fs1"><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_"> </span><span class="_ _9"> </span><span class="_"> </span><span class="_ _9"> </span><span class="_"> </span></span>struct<span class="_"> </span>key<span class="_ _c"> </span><span class="ff2 fs1"><span class="_"> </span></span></div><div class="t m0 x3 h3 ya3 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _6"> </span><span class="_ _0"></span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _1"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _4"></span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="ff6 fsa">binsearch</span><span class="_ _7"> </span></div><div class="t m0 x3 h3 ya4 ff6 fsa fc0 sc0 ls0 ws0">binsearch<span class="_ _2"> </span><span class="ff2 fs1"><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _0"></span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="ff6 fsa">NULL</span></span></div><div class="t m0 x2 h3 y185 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _1"> </span><span class="_ _1"> </span><span class="_ _1"> </span><span class="_ _2"> </span><span class="ff6 fsa">keytab<span class="_ _1"> </span></span><span class="_ _10"> </span><span class="_ _10"> </span><span class="_ _1"> </span><span class="_ _10"> </span><span class="_ _8"></span><span class="_ _7"> </span><span class="_ _1"> </span></div><div class="t m0 x3 h3 y23 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="ff6 fsa">binsearch</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
