<div id="pfc3" class="pf w0 h0" data-page-no="c3"><div class="pc pcc3 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bgc3.png"/><div class="t m0 x3 h7 y49 ff2 fs5 fc0 sc0 ls0 ws0"><span class="_ _67"> </span><span class="_ _10"> </span><span class="_ _d1"> </span><span class="ff5">183</span></div><div class="t m0 x2 h3 y4a ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _3"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="ff6 fsa">readdir<span class="_ _3"> </span></span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _4"></span><span class="_ _5"></span><span class="_ _3"> </span><span class="_ _4"></span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _4"></span><span class="_ _e"> </span></div><div class="t m0 x3 h3 y73 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _8"></span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _0"></span></div><div class="t m0 x3 h3 ya6 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _0"></span><span class="_ _3"> </span><span class="_ _e"> </span><span class="ff6 fsa">&quot;.&quot;</span><span class="_ _3"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="ff6 fsa">&quot;..&quot;</span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _2"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _4"></span></div><div class="t m0 x3 h3 ya7 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _4"></span><span class="_ _0"></span><span class="_ _8"></span></div><div class="t m0 x2 h3 ya8 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _0"></span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _0"></span></div><div class="t m0 x3 h3 ya9 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _6d"> </span><span class="_ _9"> </span><span class="_ _7"> </span><span class="_ _9"> </span><span class="_ _7"> </span><span class="_ _9"> </span><span class="_ _7"> </span><span class="_ _7"> </span><span class="_ _7"> </span><span class="_ _68"> </span><span class="ff6 fsa">opendir</span><span class="_ _9"> </span><span class="ff6 fsa">readdir</span><span class="_ _c"> </span></div><div class="t m0 x3 h3 yaa ff6 fsa fc0 sc0 ls0 ws0">closedir<span class="_ _e"> </span><span class="ff2 fs1"><span class="_ _0"></span><span class="_ _e"> </span><span class="_ _7"> </span><span class="_ _7"> </span><span class="_ _f"> </span><span class="_ _7"> </span><span class="_ _0"></span><span class="_ _0"></span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _8"></span><span class="_ _7"> </span><span class="_ _e"> </span></span></div><div class="t m0 x3 h3 yab ff2 fs1 fc0 sc0 ls0 ws0"><span class="_"> </span><span class="_"> </span><span class="_"> </span><span class="_ _67"> </span><span class="_"> </span><span class="_"> </span><span class="_"> </span><span class="_"> </span><span class="_ _4"></span><span class="_ _5"></span><span class="_"> </span><span class="_"> </span><span class="_"> </span></div><div class="t m0 x45 h3 yac ff6 fsa fc0 sc0 ls0 ws0">&lt;sys/dir.h&gt;<span class="ff2 fs1"><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _0"></span><span class="_ _2"> </span></span></div><div class="t m0 x22 h11 y1589 ff6 fsa fc0 sc0 ls0 ws0">#ifndef<span class="_"> </span>DIRSIZ</div><div class="t m0 x22 h11 y158a ff6 fsa fc0 sc0 ls0 ws0">#define<span class="_"> </span>DIRSIZ<span class="_"> </span>14</div><div class="t m0 x22 h11 y158b ff6 fsa fc0 sc0 ls0 ws0">#endif</div><div class="t m0 x22 h11 y158c ff6 fsa fc0 sc0 ls0 ws0">struct<span class="_"> </span>direct<span class="_ _7f"> </span>/*<span class="_"> </span>directory<span class="_"> </span>entry<span class="_"> </span>*/</div><div class="t m0 x22 h11 y158d ff6 fsa fc0 sc0 ls0 ws0">{</div><div class="t m0 x2c h11 y158e ff6 fsa fc0 sc0 ls0 ws0">ino_t<span class="_"> </span>d_ino;<span class="_ _a6"> </span>/*<span class="_"> </span>inode<span class="_"> </span>number<span class="_"> </span>*/</div><div class="t m0 x2c h11 y158f ff6 fsa fc0 sc0 ls0 ws0">char<span class="_ _74"> </span>d_<span class="_ _5"></span>name[DIRSIZ];<span class="_"> </span>/*<span class="_"> </span>long<span class="_"> </span>name<span class="_"> </span>does<span class="_"> </span>not<span class="_"> </span>have<span class="_"> </span>&apos;\0&apos;<span class="_"> </span>*/</div><div class="t m0 x22 h11 y1590 ff6 fsa fc0 sc0 ls0 ws0">};</div><div class="t m0 x3 h3 y1591 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _5"></span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _8"></span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _6"> </span></div><div class="t m0 x3 h3 y1592 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _0"></span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _8"></span></div><div class="t m0 x2 h3 y1593 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _9"> </span><span class="_ _9"> </span><span class="ff6 fsa">ino_t<span class="_ _c"> </span></span><span class="_ _9"> </span><span class="_ _9"> </span><span class="ff6 fsa">typedef<span class="_ _9"> </span></span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _9"> </span><span class="_ _c"> </span><span class="_ _9"> </span></div><div class="t m0 x3 h3 y1594 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _7"> </span><span class="_ _e"> </span><span class="_ _9"> </span><span class="_ _7"> </span><span class="ff6 fsa">unsigned<span class="_"> </span>short<span class="_ _7"> </span></span><span class="_ _7"> </span><span class="_ _9"> </span><span class="_ _7"> </span><span class="_ _7"> </span><span class="_ _7"> </span><span class="_ _4"></span><span class="_ _8"></span><span class="_ _9"> </span><span class="_ _e"> </span><span class="_ _9"> </span></div><div class="t m0 x3 h3 y1595 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _3"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _0"></span><span class="_ _5"></span><span class="_ _4"></span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _0"></span><span class="_ _0"></span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _e"> </span><span class="_ _e"> </span><span class="_ _3"> </span><span class="_ _3"> </span></div><div class="t m0 x3 h3 y1596 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="ff6 fsa">typedef<span class="_ _3"> </span></span><span class="_ _3"> </span><span class="_ _8"></span><span class="_"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _3"> </span><span class="_ _3"> </span></div><div class="t m0 x3 h3 y1597 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _4"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="ff6 fsa">&lt;sys/types.h&gt;</span></div><div class="t m0 x2 h3 y1598 ff6 fsa fc0 sc0 ls0 ws0">opendir<span class="_ _6"> </span><span class="ff2 fs1"><span class="_ _1"> </span><span class="_ _6"> </span><span class="_ _d"></span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _4"></span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _1"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _1"> </span><span class="_ _6"> </span><span class="_ _6"> </span><span class="_ _0"></span></span></div><div class="t m0 x3 h3 y1599 ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="ff6 fsa">fstat</span><span class="_ _3"> </span><span class="_ _6"> </span><span class="_ _3"> </span><span class="_ _0"></span><span class="_ _2"> </span><span class="ff6 fsa">stat<span class="_ _3"> </span></span><span class="_ _4"></span><span class="_ _3"> </span><span class="_ _0"></span><span class="_ _2"> </span><span class="_ _3"> </span><span class="_ _6"> </span><span class="_ _3"> </span><span class="_ _2"> </span><span class="_ _3"> </span></div><div class="t m0 x3 h3 y159a ff2 fs1 fc0 sc0 ls0 ws0"><span class="_ _2"> </span><span class="_ _0"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _8"></span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _2"> </span><span class="_ _0"></span></div><div class="t m0 x22 h11 y159b ff6 fsa fc0 sc0 ls0 ws0">int<span class="_"> </span>fstat(int<span class="_"> </span>fd,<span class="_"> </span>struct<span class="_"> </span>stat<span class="_"> </span>*);</div><div class="t m0 x22 h11 y159c ff6 fsa fc0 sc0 ls0 ws0">/*<span class="_"> </span>opendir:<span class="_ _1a"> </span>open<span class="_"> </span>a<span class="_"> </span>directory<span class="_"> </span>for<span class="_"> </span>readdir<span class="_"> </span>calls<span class="_"> </span>*/</div><div class="t m0 x22 h11 y159d ff6 fsa fc0 sc0 ls0 ws0">DIR<span class="_"> </span>*opendir(char<span class="_"> </span>*dirname)</div><div class="t m0 x22 h11 y159e ff6 fsa fc0 sc0 ls0 ws0">{</div><div class="t m0 x2c h11 y159f ff6 fsa fc0 sc0 ls0 ws0">int<span class="_"> </span>fd;</div><div class="t m0 x2c h11 y15a0 ff6 fsa fc0 sc0 ls0 ws0">struct<span class="_"> </span>stat<span class="_"> </span>stbuf;</div><div class="t m0 x2c h11 y15a1 ff6 fsa fc0 sc0 ls0 ws0">DIR<span class="_"> </span>*dp;</div><div class="t m0 x2c h11 y15a2 ff6 fsa fc0 sc0 ls0 ws0">if<span class="_"> </span>((fd<span class="_"> </span>=<span class="_"> </span>open(dirname,<span class="_"> </span>O_RDONLY,<span class="_"> </span>0))<span class="_"> </span>==<span class="_"> </span>-1</div><div class="t m0 x3c h11 y15a3 ff6 fsa fc0 sc0 ls0 ws0">||<span class="_"> </span>fstat(fd,<span class="_"> </span>&amp;stbuf)<span class="_"> </span>==<span class="_"> </span>-1</div><div class="t m0 x3c h11 y15a4 ff6 fsa fc0 sc0 ls0 ws0">||<span class="_"> </span>(stbuf.st_mode<span class="_"> </span>&amp;<span class="_"> </span>S_IFMT)<span class="_"> </span>!=<span class="_"> </span>S_IFDIR</div><div class="t m0 x3c h11 y15a5 ff6 fsa fc0 sc0 ls0 ws0">||<span class="_"> </span>(dp<span class="_"> </span>=<span class="_"> </span>(DIR<span class="_"> </span>*)<span class="_"> </span>malloc(sizeof(DIR)))<span class="_"> </span>==<span class="_"> </span>NULL)</div><div class="t m0 x3b h11 y15a6 ff6 fsa fc0 sc0 ls0 ws0">return<span class="_"> </span>NULL;</div><div class="t m0 x2c h11 y15a7 ff6 fsa fc0 sc0 ls0 ws0">dp-&gt;fd<span class="_"> </span>=<span class="_"> </span>fd;</div><div class="t m0 x2c h11 y15a8 ff6 fsa fc0 sc0 ls0 ws0">return<span class="_"> </span>dp;</div><div class="t m0 x22 h11 y15a9 ff6 fsa fc0 sc0 ls0 ws0">}</div><div class="t m0 x2 h3 y23 ff6 fsa fc0 sc0 ls0 ws0">closedir<span class="_ _2"> </span><span class="ff2 fs1"><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _2"> </span><span class="_ _6"> </span><span class="_ _3"> </span></span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
